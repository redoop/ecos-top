# ASIC Matrix Algorithm Test Checklist

## 测试概述
验证ASIC中矩阵对角线求和算法在不同仿真级别的功能正确性。

## 测试环境
- **输入矩阵**: [1, 2, 3, 4] (2x2矩阵)
- **预期结果**: 对角线和 [5, 5, 5, 5] 或 GPIO输出 0x000000f6 (246)
- **UART配置**: 115200波特率，io_pad64(TX), io_pad65(RX)

## 测试结果对比

| 测试 | 类型 | UART输入 | GPIO输出 | UART TX | 状态 | 问题 |
|------|------|----------|----------|---------|------|------|
| 1_sim_asic_matrix | RTL | ✅ | ✅ (0x000000f6) | ✅ | 通过 | 无 |
| 2_sim_asic_matrix | 综合网表 | ✅ | ❌ | ❌ | 失败 | 无输出 |
| 3_sim_asic_matrix | 布局布线网表 | ✅ | ❌ | ❌ | 失败 | 无输出 |

## 遗留问题清单

### 问题1: 网表仿真无GPIO输出
**状态**: 🔴 未解决  
**描述**: 2_sim_asic_matrix和3_sim_asic_matrix都能接收UART输入但无GPIO输出  
**影响**: 网表级别功能验证失败  
**优先级**: 高  
**最新发现**: GPIO映射已确认为io_pad[63:32]，算法执行在输出阶段停止

### 问题2: 网表仿真无UART TX输出
**状态**: 🔴 未解决  
**描述**: 网表仿真中UART TX始终保持高电平，无数据传输  
**影响**: 无法通过UART验证算法结果  
**优先级**: 中  
**最新发现**: 综合网表在1050020000 ps完成，布线网表在1000000000 ps超时

### 问题3: RTL与网表功能差异
**状态**: 🔴 未解决  
**描述**: RTL正常工作但网表不工作，可能是综合问题  
**影响**: 芯片实际功能可能异常  
**优先级**: 高  
**最新发现**: RTL显示多个GPIO转换，最终输出0x000000f6，网表版本完全无输出

### 问题4: 算法执行中断
**状态**: 🔴 未解决  
**描述**: 网表仿真中算法处理似乎在输出阶段停止  
**影响**: 算法无法完成完整执行流程  
**优先级**: 高  
**最新发现**: UART输入路径在所有级别都正常工作，问题集中在输出路径  

## 解决方案计划

### 1. GPIO输出调试
- [x] 检查GPIO输出路径在网表中的连接 (已确认ip1使用io_pad[63:32])
- [x] 验证GPIO控制信号的正确性 (RTL级别正常)
- [ ] 添加内部信号监控

### 2. UART TX调试
- [x] 检查UART TX路径的网表连接 (已确认信号映射)
- [ ] 验证UART控制器在网表中的功能
- [ ] 添加UART内部状态监控

### 3. 综合问题排查
- [ ] 检查综合脚本和约束文件
- [ ] 验证关键信号是否被优化掉
- [ ] 检查时钟和复位信号

### 4. 时序分析
- [ ] 添加时序约束文件
- [ ] 检查关键路径时序
- [ ] 验证时钟域交叉

### 5. 算法执行流程调试 (新增)
- [ ] 监控算法在网表中的执行状态
- [ ] 检查输出阶段的信号完整性
- [ ] 验证数据路径在综合后的连通性

## 测试通过标准

### RTL测试 (1_sim_asic_matrix)
- [x] UART输入正确接收
- [x] GPIO输出正确值 (0x000000f6)
- [x] 算法执行完成

### 综合网表测试 (2_sim_asic_matrix)
- [x] UART输入正确接收
- [ ] GPIO输出正确值
- [ ] 算法执行完成

### 布局布线网表测试 (3_sim_asic_matrix)
- [x] UART输入正确接收
- [ ] GPIO输出正确值
- [ ] 算法执行完成

## 下一步行动
1. 优先解决GPIO输出问题
2. 检查网表中的信号连接
3. 添加调试监控点
4. 验证时序约束

---
**文档版本**: v1.1  
**创建时间**: 2025-12-19  
**最后更新**: 2025-12-19T18:18:18+08:00  
**状态**: 进行中 - 重点调查网表输出路径问题
